(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b5e2903"],{"07b7":function(t,s,a){"use strict";var e=a("4f95"),i=a.n(e);i.a},"4f95":function(t,s,a){},fd82:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-page-header",{attrs:{content:"商品详情"},on:{back:t.goBack}}),a("div",{staticClass:"lunbo"},[a("el-carousel",{attrs:{interval:5e3,arrow:"always"}},t._l(t.productInfo.PRODUCT_PIC,(function(t){return a("el-carousel-item",{key:t},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t}})])})),1)],1),a("div",{staticClass:"info-body"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 商品名称 ")]),a("span",{staticClass:"text-content pdname"},[t._v(" "+t._s(t.productInfo.PRODUCT_NAME)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 商品价格 ")]),a("span",{staticClass:"text-content pdprice"},[t._v(" ￥ "),a("span",[t._v(t._s(t.productInfo.PRODUCT_PRICE))])]),a("span",{directives:[{name:"loading",rawName:"v-loading",value:t.collectLoading,expression:"collectLoading"}],staticStyle:{float:"right"},on:{click:function(s){return t.upadteCollect()}}},[t.isCollect?a("i",{staticClass:"el-icon-star-off isCollect"}):a("i",{staticClass:"el-icon-star-off"}),t._v(" 收藏 ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 商品数量 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.PRODUCT_NUM)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 商品类型 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.translateType2(t.productInfo.PRODUCT_CLASS))+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 卖家 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.SELLER_NAME)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 卖家宿舍 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.SELLER_DORM)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 联系电话 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.SELLER_PHONE)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 微信 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.SELLER_WECHAT)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 班级 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.SELLER_CLASS)+" ")])]),a("div",{staticClass:"text item"},[a("span",{staticClass:"label"},[t._v(" 发布日期 ")]),a("span",{staticClass:"text-content"},[t._v(" "+t._s(t.productInfo.RELEASE_DATE)+" ")])]),a("div",{staticStyle:{height:"auto","line-height":"50px"}},[a("span",{staticClass:"label"},[t._v(" 商品描述 ")]),a("div",{staticStyle:{"font-size":"16px","line-height":"25px"}},[t._v(" "+t._s(t.productInfo.DESCRIBE)+" ")])])])],1)],1)},i=[];const{getProductInfo:l,userSearch:c,modifyUser:o}=a("365c"),{translateType:n,lookCookie:r}=a("ed08");var d="",u={data(){return{backUrl:d,productId:"",productInfo:{},loading:!1,usercollect:[],isCollect:!1,userId:"",collectLoading:!1}},async created(){this.loading=!0,this.productId=this.$route.query.id;let{data:t}=await l(this.productId);this.productInfo=t[0];let s=r("userName");if(this.userId=r("userId"),s){let t=await c({keywords:s});this.usercollect=t.data[0].USER_COLLECT;let a=this.productId,e=this.isCollect;this.usercollect.map((function(t){t==a&&(e=!0)})),this.isCollect=e}this.loading=!1},beforeRouteEnter(t,s,a){d=s.fullPath,a()},methods:{goBack(){this.$router.push(this.backUrl)},translateType2(t){return n(t)},async upadteCollect(){this.collectLoading=!0,this.userId?(this.isCollect?this.usercollect=this.usercollect.filter(t=>t!=this.productId):this.usercollect.push(this.productId),this.isCollect=!this.isCollect,o({id:this.userId,usercollect:this.usercollect})):this.$notify({title:"不可收藏",message:"请先登录,登陆之后才可以收藏商品哦",type:"warning"}),this.collectLoading=!1}}},p=u,C=(a("07b7"),a("623f")),v=Object(C["a"])(p,e,i,!1,null,"95393dc6",null);s["default"]=v.exports}}]);
//# sourceMappingURL=chunk-1b5e2903.ab67ba82.js.map