{"version":3,"sources":["webpack:///./src/components/productList.vue?55ab","webpack:///./src/components/productList.vue?0577","webpack:///src/components/productList.vue","webpack:///./src/components/productList.vue?da50","webpack:///./src/components/productList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","_l","item","compareTime2","DEADLINE","key","_id","on","$event","godetail2","PRODUCT_PIC","PRODUCT_NAME","_v","_s","PRODUCT_PRICE","RELEASE_DATE","_e","staticRenderFns","component"],"mappings":"yIAAA,yBAA4rB,EAAG,G,yCCA/rB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,WAAW,CAAC,CAACC,KAAK,kBAAkBC,QAAQ,oBAAoBC,MAAOT,EAAQ,KAAEU,WAAW,SAASC,YAAY,OAAOC,MAAM,CAAC,2BAA2B,aAAaZ,EAAIa,GAAIb,EAAU,QAAE,SAASc,GAAM,OAAOV,EAAG,KAAK,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAIe,aAAaD,EAAKE,UAAWN,WAAW,gCAAgCO,IAAIH,EAAKI,IAAIP,YAAY,YAAYQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,UAAUP,EAAKI,QAAQ,CAACd,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAME,EAAKQ,YAAY,GAAG,IAAMR,EAAKS,gBAAgBnB,EAAG,IAAI,CAACO,YAAY,UAAU,CAACX,EAAIwB,GAAGxB,EAAIyB,GAAGX,EAAKS,iBAAiBnB,EAAG,OAAO,CAACO,YAAY,SAAS,CAACX,EAAIwB,GAAG,IAAIxB,EAAIyB,GAAGX,EAAKY,kBAAkBtB,EAAG,OAAO,CAACO,YAAY,QAAQ,CAACX,EAAIwB,GAAG,QAAQxB,EAAIyB,GAAGX,EAAKa,sBAAqB,GAAI3B,EAAW,QAAEI,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,UAAUC,MAAM,CAAC,uBAAuB,QAAQ,0BAA0B,qBAAqBZ,EAAI4B,KAAM5B,EAAU,OAAEI,EAAG,IAAI,CAACJ,EAAIwB,GAAG,WAAWxB,EAAI4B,QACnmCC,EAAkB,GCyBtB,MAAM,mBAAN,8BACM,YAAN,aACA,OACE,MAAF,CACI,OAAJ,QAEE,OACE,MAAJ,CACM,SAAN,EACM,OAAN,GACM,QAAN,EACM,MAAN,IACM,SAAN,sBAGE,gBACE,IAAJ,KAAM,SAAN,IACI,KAAJ,SAEE,SAAF,CACI,SACE,OAAN,gCAEI,WACE,OAAN,4BAGE,QAAF,CACI,OACE,KAAN,WACM,WAAN,UACQ,IAAR,oCACQ,KAAR,WACQ,KAAR,6BACQ,KAAR,YACA,KAEI,UAAJ,GACM,KAAN,qBAEI,aAAJ,GACM,OAAN,QCnEyb,I,wBCQrbC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-8eb50bb4.6260c944.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=style&index=0&id=c580b90e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=style&index=0&id=c580b90e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"list\",attrs:{\"infinite-scroll-disabled\":\"disabled\"}},_vm._l((_vm.pdList),function(item){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareTime2(item.DEADLINE)),expression:\"compareTime2(item.DEADLINE)\"}],key:item._id,staticClass:\"list-item\",on:{\"click\":function($event){return _vm.godetail2(item._id)}}},[_c('img',{attrs:{\"src\":item.PRODUCT_PIC[0],\"alt\":item.PRODUCT_NAME}}),_c('p',{staticClass:\"detail\"},[_vm._v(_vm._s(item.PRODUCT_NAME))]),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.PRODUCT_PRICE))]),_c('span',{staticClass:\"time\"},[_vm._v(\"发布时间：\"+_vm._s(item.RELEASE_DATE))])])}),0),(_vm.loading)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\"}}):_vm._e(),(_vm.noMore)?_c('p',[_vm._v(\"没有更多了\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n     <div>\r\n    <ul\r\n      class=\"list\"\r\n      v-infinite-scroll=\"load\"\r\n      infinite-scroll-disabled=\"disabled\">\r\n      <li v-for=\"item in pdList\" v-show=\"compareTime2(item.DEADLINE)\" :key=\"item._id\" @click=\"godetail2(item._id)\" class=\"list-item\">\r\n          <img :src=\"item.PRODUCT_PIC[0]\" :alt=\"item.PRODUCT_NAME\">\r\n          <p class=\"detail\">{{item.PRODUCT_NAME}}</p>\r\n          <span class=\"price\">￥{{item.PRODUCT_PRICE}}</span>\r\n          <span class=\"time\">发布时间：{{item.RELEASE_DATE}}</span>\r\n      </li>\r\n    </ul>\r\n    <div \r\n    v-if=\"loading\"\r\n    v-loading=\"loading\"\r\n    element-loading-text=\"拼命加载中\"\r\n    element-loading-spinner=\"el-icon-loading\"\r\n    class=\"loading\">\r\n\r\n    </div>\r\n    <!-- <p v-if=\"loading\">加载中...</p> -->\r\n    <p v-if=\"noMore\">没有更多了</p>\r\n  </div>\r\n</template>\r\n<script>\r\nconst {getLazyProductList,getProductNum} = require('../api');\r\nconst {compareTime} = require('../utils');\r\nexport default {\r\n    props:{\r\n        pdSize:Number\r\n    },\r\n    data () {\r\n      return {\r\n        loading:false,\r\n        pdList:[],\r\n        pagenum:1,\r\n        pdNum:999,\r\n        nowTime:new Date().getTime()\r\n      }\r\n    },\r\n    async created(){\r\n        let {data}= await getProductNum();\r\n        this.pdNum = data;\r\n    },\r\n    computed: {\r\n      noMore () {\r\n        return this.pdList.length >= this.pdNum\r\n      },\r\n      disabled () {\r\n        return this.loading || this.noMore\r\n      }\r\n    },\r\n    methods: {\r\n      load () {\r\n        this.loading = true\r\n        setTimeout(async () => {\r\n          let data = await getLazyProductList (this.pdSize,this.pagenum);\r\n          this.pagenum+=1;\r\n          this.pdList=this.pdList.concat(data);\r\n          this.loading = false\r\n        }, 0.1)\r\n      },\r\n      godetail2(val){\r\n        this.$emit(\"godetail\",val);\r\n      },\r\n      compareTime2(val){\r\n        return compareTime(val);\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nul,li{\r\n    list-style: none;\r\n}\r\n.loading{\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.list-item{\r\n    width: 100%;\r\n    height: 34vh;\r\n    border-radius: 5px;\r\n    position: relative;\r\n    background-color: #fff;\r\n    box-shadow: 0 0 8px 0 #00000014;\r\n    margin-bottom: 15px;\r\n    img{\r\n        width: 100%;\r\n        height: 24vh;\r\n        border-radius: 5px 5px 0 0;\r\n    }\r\n    .detail{\r\n        margin:5px 10px;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        color: rgba(0, 0, 0, 0.85);\r\n        overflow: hidden;\r\n    }\r\n    .price{\r\n        float: left;\r\n        color: #e1251b;\r\n        padding-left: 10px;\r\n        font-weight: 700;\r\n    }\r\n    .time{\r\n        float: right;\r\n        padding-right: 10px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productList.vue?vue&type=template&id=c580b90e&scoped=true&\"\nimport script from \"./productList.vue?vue&type=script&lang=js&\"\nexport * from \"./productList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productList.vue?vue&type=style&index=0&id=c580b90e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c580b90e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}