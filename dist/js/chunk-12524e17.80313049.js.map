{"version":3,"sources":["webpack:///./src/components/MUProduct.vue?343b","webpack:///./src/components/MUProduct.vue?050d","webpack:///src/components/MUProduct.vue","webpack:///./src/components/MUProduct.vue?08b4","webpack:///./src/components/MUProduct.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","on","goBack","directives","name","rawName","value","expression","staticStyle","ref","ruleForm","rules","model","callback","$$v","$set","_l","item","key","TYPE","NAME","uploadUrl","handleRemove","handlePreview","fileList","_v","slot","_e","isfb","$event","submitForm","staticRenderFns","path","component"],"mappings":"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","file":"js/chunk-12524e17.80313049.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./MUProduct.vue?vue&type=style&index=0&id=aeeaf070&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./MUProduct.vue?vue&type=style&index=0&id=aeeaf070&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zhuce\"},[_c('el-page-header',{attrs:{\"content\":_vm.title},on:{\"back\":_vm.goBack}}),_c('el-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-main',{staticStyle:{\"overflow\":\"auto\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"PRODUCT_NAME\"}},[_c('el-input',{model:{value:(_vm.ruleForm.PRODUCT_NAME),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"PRODUCT_NAME\", $$v)},expression:\"ruleForm.PRODUCT_NAME\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"PRODUCT_PRICE\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.ruleForm.PRODUCT_PRICE),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"PRODUCT_PRICE\", $$v)},expression:\"ruleForm.PRODUCT_PRICE\"}})],1),_c('el-form-item',{attrs:{\"label\":\"截至时间\",\"prop\":\"DEADLINE\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\"},model:{value:(_vm.ruleForm.DEADLINE),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"DEADLINE\", $$v)},expression:\"ruleForm.DEADLINE\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"PRODUCT_NUM\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.ruleForm.PRODUCT_NUM),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"PRODUCT_NUM\", $$v)},expression:\"ruleForm.PRODUCT_NUM\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品类别\",\"prop\":\"PRODUCT_CLASS\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.PRODUCT_CLASS),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"PRODUCT_CLASS\", $$v)},expression:\"ruleForm.PRODUCT_CLASS\"}},_vm._l((_vm.productType),function(item){return _c('el-option',{key:item.TYPE,attrs:{\"label\":item.NAME,\"value\":item.TYPE}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"卖家称呼\",\"prop\":\"SELLER_NAME\"}},[_c('el-input',{model:{value:(_vm.ruleForm.SELLER_NAME),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"SELLER_NAME\", $$v)},expression:\"ruleForm.SELLER_NAME\"}})],1),_c('el-form-item',{attrs:{\"label\":\"宿舍\",\"prop\":\"SELLER_DORM\"}},[_c('el-input',{model:{value:(_vm.ruleForm.SELLER_DORM),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"SELLER_DORM\", $$v)},expression:\"ruleForm.SELLER_DORM\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"SELLER_PHONE\"}},[_c('el-input',{model:{value:(_vm.ruleForm.SELLER_PHONE),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"SELLER_PHONE\", $$v)},expression:\"ruleForm.SELLER_PHONE\"}})],1),_c('el-form-item',{attrs:{\"label\":\"微信号\",\"prop\":\"SELLER_WECHAT\"}},[_c('el-input',{model:{value:(_vm.ruleForm.SELLER_WECHAT),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"SELLER_WECHAT\", $$v)},expression:\"ruleForm.SELLER_WECHAT\"}})],1),_c('el-form-item',{attrs:{\"label\":\"班级\",\"prop\":\"SELLER_CLASS\"}},[_c('el-input',{model:{value:(_vm.ruleForm.SELLER_CLASS),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"SELLER_CLASS\", $$v)},expression:\"ruleForm.SELLER_CLASS\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品描述\",\"prop\":\"DESCRIBE\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.ruleForm.DESCRIBE),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"DESCRIBE\", $$v)},expression:\"ruleForm.DESCRIBE\"}})],1),(_vm.isfb)?_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"prop\":\"PRODUCT_PIC\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":_vm.uploadUrl,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handlePreview,\"file-list\":_vm.fileList,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传图片\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1):_vm._e(),_c('el-form-item',[(!_vm.isfb)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('update')}}},[_vm._v(\"确认修改\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('release')}}},[_vm._v(\"发布商品\")])],1)],1),(!_vm.isfb)?_c('div',{staticClass:\"copyright\"},[_c('div',{staticClass:\"ts\"},[_vm._v(\"温馨提示\")]),_vm._v(\" 商品信息修改,只要填写对应表单信息点击确认修改即可成功修改对应信息 \")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"zhuce\">\r\n<el-page-header @back=\"goBack\" :content=\"title\">\r\n   </el-page-header>\r\n<el-container\r\n v-loading='loading'>\r\n    <el-main style=\"overflow:auto;\">   \r\n        <el-form :model=\"ruleForm\"  status-icon :rules=\"rules\"  ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n            <el-form-item label=\"商品名称\" prop=\"PRODUCT_NAME\">\r\n                <el-input v-model=\"ruleForm.PRODUCT_NAME\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品价格\" prop=\"PRODUCT_PRICE\">\r\n                <el-input type=\"number\" v-model=\"ruleForm.PRODUCT_PRICE\"></el-input>\r\n            </el-form-item>\r\n             <el-form-item label=\"截至时间\" prop=\"DEADLINE\">\r\n                <!-- <el-input v-model=\"ruleForm.DEADLINE\"></el-input> -->\r\n                 <el-date-picker\r\n                    v-model=\"ruleForm.DEADLINE\"\r\n                    type=\"datetime\"\r\n                    placeholder=\"选择日期时间\">\r\n                </el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品数量\" prop=\"PRODUCT_NUM\">\r\n                <el-input type=\"number\" v-model=\"ruleForm.PRODUCT_NUM\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品类别\" prop=\"PRODUCT_CLASS\">\r\n                 <el-select v-model=\"ruleForm.PRODUCT_CLASS\" placeholder=\"请选择\">\r\n                    <el-option\r\n                        v-for=\"item in productType\"\r\n                        :key=\"item.TYPE\"\r\n                        :label=\"item.NAME\"\r\n                        :value=\"item.TYPE\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"卖家称呼\" prop=\"SELLER_NAME\">\r\n                <el-input v-model=\"ruleForm.SELLER_NAME\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"宿舍\" prop=\"SELLER_DORM\">\r\n                <el-input v-model=\"ruleForm.SELLER_DORM\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系方式\" prop=\"SELLER_PHONE\">\r\n                <el-input v-model=\"ruleForm.SELLER_PHONE\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"微信号\" prop=\"SELLER_WECHAT\">\r\n                <el-input v-model=\"ruleForm.SELLER_WECHAT\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"班级\" prop=\"SELLER_CLASS\">\r\n                <el-input v-model=\"ruleForm.SELLER_CLASS\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品描述\" prop=\"DESCRIBE\">\r\n                <el-input type=\"textarea\" v-model=\"ruleForm.DESCRIBE\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item v-if=\"isfb\" label=\"上传图片\" prop=\"PRODUCT_PIC\">\r\n                <!-- <el-input type=\"textarea\" v-model=\"ruleForm.DESCRIBE\"></el-input> -->\r\n            <el-upload\r\n                class=\"upload-demo\"\r\n                :action=\"uploadUrl\"\r\n                :on-remove=\"handleRemove\"\r\n                :on-success=\"handlePreview\"\r\n                :file-list=\"fileList\"\r\n                list-type=\"picture\">\r\n                <el-button size=\"small\" type=\"primary\">上传图片</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n            </el-upload>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm('update')\" v-if=\"!isfb\">确认修改</el-button>\r\n                <el-button type=\"primary\" @click=\"submitForm('release')\" v-else>发布商品</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div class=\"copyright\" v-if=\"!isfb\">\r\n            <div class=\"ts\">温馨提示</div>\r\n          商品信息修改,只要填写对应表单信息点击确认修改即可成功修改对应信息\r\n        </div>\r\n    </el-main>\r\n</el-container>\r\n </div>\r\n</template>\r\n<script>\r\nvar path = '';\r\nconst {getProductInfo,getProductType,updateProduct,userSearch,releaseProduct} = require(\"../api\");\r\nconst {lookCookie,uploadUrl,dateFormat} = require(\"../utils\");\r\nexport default {\r\n     data() {\r\n       var checkSELLER_NAME = (rule,value,callback) =>{\r\n           if(value){\r\n                  setTimeout(async () => {\r\n                    if (value.length<3||value.length>8) {\r\n                      callback(new Error('用户名应为3到8位字符'));\r\n                    } else {\r\n                        callback();\r\n                    }\r\n                  }, 1000);\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n                }\r\n        };\r\n        var checkSELLER_DORM = (rule,value,callback) =>{\r\n           if(value){\r\n                  if(!(/^[\\u4e00-\\u9fa5]{2}\\S{0,2}\\d{3,6}$/.test(value.trim()))){\r\n                        callback(new Error('请输入宿舍号,例:海安A309,海滨1栋104'));\r\n                    }else{\r\n                        callback();\r\n                    }\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n                }\r\n        };\r\n        var checkSELLER_PHONE = (rule,value,callback) =>{\r\n           if(value){\r\n                if(!(/^1[3456789]\\d{9}$/.test(value.trim()))){\r\n                    callback(new Error('请输入正确的手机号'));\r\n                }else{\r\n                    callback();\r\n                }\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n                }\r\n        };\r\n        var checkSELLER_CLASS = (rule,value,callback) =>{\r\n           if(value){\r\n                if(!(/^[\\u4e00-\\u9fa5]{2,}\\d{4}$/.test(value.trim()))){\r\n                    callback(new Error(\"专业+班别,例:'信计1161'\"));\r\n                }else{\r\n                    callback();\r\n                }\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n                }\r\n        };\r\n        var checkSELLER_WECHAT = (rule,value,callback) =>{\r\n           if(value){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n            }\r\n        };\r\n        var checkPRODUCT_NAME = (rule,value,callback) =>{\r\n           if(value){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n            }\r\n        };\r\n        var checkPRODUCT_NUM = (rule,value,callback) =>{\r\n           if(value>=1){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能小于1'));\r\n            }\r\n        };\r\n        var checkDEADLINE = (rule,value,callback) =>{\r\n           if(value){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n            }\r\n        };\r\n        var checkDESCRIBE = (rule,value,callback) =>{\r\n           if(value){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n            }\r\n        };\r\n        var checkPRODUCT_PRICE = (rule,value,callback) =>{\r\n           if(value){\r\n                    callback();\r\n              }else{\r\n                    callback(new Error('不能为空'));\r\n            }\r\n        };\r\n      return {\r\n        title:'',\r\n        productId:'',\r\n        userName:'',\r\n        loading:false,\r\n        productType:[],\r\n        uploadUrl:uploadUrl,\r\n        fileList:[],\r\n        userId:'',\r\n        userSno:'',\r\n        isfb:true,\r\n        ruleForm: {\r\n            PRODUCT_NAME: '',//商品名称\r\n            PRODUCT_PRICE:'',//价格\r\n            PRODUCT_NUM:'',//数量\r\n            PRODUCT_CLASS:'others',//商品类别\r\n            SELLER_NAME:'',//卖家姓名\r\n            SELLER_DORM:'',//宿舍\r\n            SELLER_PHONE:'',//联系方式\r\n            SELLER_WECHAT:'',//微信号\r\n            SELLER_CLASS:'',//班级\r\n            DEADLINE:'',//截至时间\r\n            DESCRIBE:'',//描述\r\n            PRODUCT_PIC:[]//上传的图片\r\n        },\r\n        rules: {\r\n          SELLER_NAME: [\r\n            { validator: checkSELLER_NAME, trigger: 'blur' }\r\n          ],\r\n          SELLER_DORM:[{\r\n              validator: checkSELLER_DORM, trigger: 'blur' \r\n          }],\r\n          SELLER_PHONE:[{ validator: checkSELLER_PHONE, trigger: 'blur' }],\r\n          SELLER_CLASS:[{ validator: checkSELLER_CLASS, trigger: 'blur' }],\r\n          SELLER_WECHAT:[{validator: checkSELLER_WECHAT, trigger: 'blur'}],\r\n          PRODUCT_NAME:[{validator: checkPRODUCT_NAME, trigger: 'blur'}],\r\n          PRODUCT_PRICE:[{validator: checkPRODUCT_PRICE, trigger: 'blur'}],\r\n          PRODUCT_NUM:[{validator: checkPRODUCT_NUM, trigger: 'blur'}],\r\n          DEADLINE:[{validator: checkDEADLINE, trigger: 'blur'}],\r\n          DESCRIBE:[{validator: checkDESCRIBE, trigger: 'blur'}]\r\n        },\r\n        backUrl:path,\r\n      };\r\n    },\r\n    beforeRouteEnter(to,from,next){\r\n        path = from.fullPath\r\n        next();\r\n    },\r\n    async created(){\r\n        this.loading = true;\r\n        let typedata = await getProductType();\r\n        this.productType = typedata.data;\r\n        if(this.$route.query&&this.$route.query.id){\r\n            this.isfb = false;\r\n          this.productId = this.$route.query.id\r\n          this.title = '修改商品发布信息';\r\n          let {data} = await getProductInfo(this.productId);\r\n          this.ruleForm = Object.assign(this.ruleForm,data[0]);\r\n        }else{\r\n            this.isfb = true;\r\n            this.productId='';\r\n            this.userName = lookCookie(\"userName\");\r\n            this.userId = lookCookie(\"userId\");\r\n            let {data} = await userSearch({keywords:this.userName});\r\n            this.title = '发布新商品';\r\n            this.ruleForm.SELLER_NAME = data[0].USER_NAME;\r\n            this.ruleForm.SELLER_DORM = data[0].USER_DORM;\r\n            this.ruleForm.SELLER_CLASS = data[0].USER_CLASS;\r\n            this.ruleForm.SELLER_PHONE = data[0].USER_PHONE;\r\n            this.ruleForm.SELLER_WECHAT = data[0].USER_WECHAT;\r\n            this.userSno = data[0].USER_SNO;\r\n        }\r\n        this.loading = false;\r\n    },\r\n    methods: {\r\n        handleRemove(file, fileList) {\r\n        window.console.log(file, fileList);\r\n      },\r\n      handlePreview(response, file, fileList) {\r\n          this.ruleForm.PRODUCT_PIC.push(response);\r\n        window.console.log(response, file, fileList);\r\n      },\r\n      async submitForm(formName) {\r\n          var _self = this;\r\n          this.$refs['ruleForm'].validate(async (valid) => {\r\n              if(valid){\r\n              this.loading = true;\r\n               if(formName=='update'){\r\n                   let datas = this.ruleForm;\r\n                   let data = await updateProduct({\r\n                       productid:this.productId,\r\n                        porductname:datas.PRODUCT_NAME,\r\n                        productprice:datas.PRODUCT_PRICE,\r\n                        productnum:datas.PRODUCT_NUM,\r\n                        productclass:datas.PRODUCT_CLASS,\r\n                        sellername:datas.SELLER_NAME,\r\n                        sellerdorm:datas.SELLER_DORM,\r\n                        sellerphone:datas.SELLER_PHONE,\r\n                        sellerwechat:datas.SELLER_WECHAT,\r\n                        sellerclass:datas.SELLER_CLASS,\r\n                        deadline:datas.DEADLINE,\r\n                        describe:datas.DESCRIBE\r\n                   })\r\n                   if(data.code==1){\r\n                       this.$notify({\r\n                        title: '修改成功',\r\n                        message: `商品信息修改成功`,\r\n                        type: 'success'\r\n                        });\r\n                   }else{\r\n                       this.$notify({\r\n                        title: '修改不成功',\r\n                        message: `商品信息修改失败`,\r\n                        type: 'warn'\r\n                        });\r\n                   }\r\n               }else if(formName=='release'){\r\n                   if(this.ruleForm.PRODUCT_PIC.length<=0){\r\n                       this.$notify({\r\n                        title: '上传商品图片',\r\n                        message: `请上传商品图片,能更好的帮你将商品推荐给其他用户`,\r\n                        type: 'warn'\r\n                        });\r\n                       return;\r\n                   }else{\r\n                       let objfrom = {\r\n                           SELLER_ID:this.userId,\r\n                           RELEASE_DATE:dateFormat(\"YYYY-mm-dd HH:MM:SS\", new Date()),\r\n                           SELLER_SNO:this.userSno\r\n                       }\r\n                       this.ruleForm = Object.assign(this.ruleForm,objfrom);\r\n                       let data = await releaseProduct(this.ruleForm);\r\n                       if(data.code==1){\r\n                           this.$notify({\r\n                            title: '发布成功',\r\n                            message: `恭喜你,你的商品已发布成功,可在我发布的商品中查看`,\r\n                            type: 'success'\r\n                            });\r\n                            _self.goBack();\r\n                       }else{\r\n                           this.$notify({\r\n                            title: '发布失败',\r\n                            message: `请查看发布信息是否填写完整`,\r\n                            type: 'warn'\r\n                            });\r\n                       }\r\n                   }\r\n               }\r\n               this.loading = false;\r\n               }\r\n          })\r\n          \r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n      goBack(){\r\n          this.$router.push(path);\r\n    },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.el-main{\r\n   height:calc(100vh - 113px);\r\n}\r\n.zhuce::v-deep .el-page-header{\r\n    padding: 3vw;\r\n    height: 44px;\r\n    line-height: 44px;\r\n    background: #fff;\r\n    font-size: 17px;\r\n}\r\n::v-deep .el-form-item__label{\r\n  width: 70px !important;\r\n}\r\n::v-deep .el-form-item__content{\r\n  margin-left: 70px !important;\r\n  padding-right: 5vw;\r\n}\r\n::v-deep .el-input__inner{\r\n  height: 30px;\r\n}\r\n::v-deep .el-textarea__inner{\r\n    height: 110px;\r\n}\r\n.copyright{\r\n    text-align: center;\r\n    font-size: 14px;\r\n    .ts{\r\n        font-weight: 600;\r\n        font-size: 16px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./MUProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./MUProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MUProduct.vue?vue&type=template&id=aeeaf070&scoped=true&\"\nimport script from \"./MUProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./MUProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MUProduct.vue?vue&type=style&index=0&id=aeeaf070&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aeeaf070\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}