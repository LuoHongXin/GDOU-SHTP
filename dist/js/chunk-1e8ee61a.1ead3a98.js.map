{"version":3,"sources":["webpack:///./src/pages/fenlei.vue?45d6","webpack:///./src/pages/fenlei.vue?11b6","webpack:///src/pages/fenlei.vue","webpack:///./src/pages/fenlei.vue?cbe0","webpack:///./src/pages/fenlei.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","attrs","_l","item","idx","key","_id","toString","on","$event","navLick","slot","_v","_s","NAME","nowTypeName","compareTime2","DEADLINE","godetail","PRODUCT_PIC","PRODUCT_NAME","_e","staticRenderFns","navjump","pdTypeList","typeloading","loading","nowType","nowTypeList","pagenum","pdNum","nodata","computed","components","methods","val","component"],"mappings":"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","file":"js/chunk-1e8ee61a.1ead3a98.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./fenlei.vue?vue&type=style&index=0&id=0730fb90&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./fenlei.vue?vue&type=style&index=0&id=0730fb90&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"navMenu\"},[_c('el-menu',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.typeloading),expression:\"typeloading\"}],staticClass:\"el-menu-vertical-demo\",staticStyle:{\"overflow\":\"auto\"},attrs:{\"default-active\":\"0\",\"background-color\":\"#f8f8f8\",\"text-color\":\"#333\",\"active-text-color\":\"#44cdb1\"}},_vm._l((_vm.pdTypeList),function(item,idx){return _c('el-menu-item',{key:item._id,attrs:{\"index\":idx.toString()},on:{\"click\":function($event){return _vm.navLick(item)}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.NAME))])])}),1)],1),_c('div',{staticClass:\"infinite-list-wrapper productList\",staticStyle:{\"overflow\":\"auto\"}},[_c('h3',[_vm._v(_vm._s(_vm.nowTypeName))]),_c('ul',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"},{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"list\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"infinite-scroll-disabled\":\"disabled\"}},_vm._l((_vm.nowTypeList),function(item){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareTime2(item.DEADLINE)),expression:\"compareTime2(item.DEADLINE)\"}],key:item._id,staticClass:\"list-item\",on:{\"click\":function($event){return _vm.godetail(item._id)}}},[_c('img',{attrs:{\"src\":item.PRODUCT_PIC[0],\"alt\":item.PRODUCT_NAME}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.PRODUCT_NAME))])])}),0),(_vm.nodata)?_c('div',{staticClass:\"nodata\"},[_c('i',{staticClass:\"el-icon-box\"}),_c('div',[_vm._v(\"该类没有商品\")])]):_vm._e(),(_vm.noMore)?_c('p',[_vm._v(\"没有更多了\")]):_vm._e()]),_c('navjump')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <div class=\"navMenu\">\r\n      <el-menu\r\n        v-loading=\"typeloading\"\r\n        style=\"overflow:auto\"\r\n        default-active=\"0\"\r\n        class=\"el-menu-vertical-demo\"\r\n        background-color=\"#f8f8f8\"\r\n        text-color=\"#333\"\r\n        active-text-color=\"#44cdb1\">\r\n        <el-menu-item v-for=\"(item,idx) in pdTypeList\" \r\n        :key=\"item._id\" \r\n        :index=\"idx.toString()\"\r\n        @click = navLick(item)>\r\n          <span slot=\"title\">{{item.NAME}}</span>\r\n        </el-menu-item>\r\n      </el-menu>\r\n    </div>\r\n    <div \r\n     class=\"infinite-list-wrapper productList\" \r\n     style=\"overflow:auto\">\r\n      <h3>{{nowTypeName}}</h3>\r\n      <ul\r\n        v-loading=\"loading\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        class=\"list\"\r\n        v-infinite-scroll=\"load\"\r\n        infinite-scroll-disabled=\"disabled\">\r\n      <li v-for=\"item in nowTypeList\" v-show=\"compareTime2(item.DEADLINE)\"  @click=\"godetail(item._id)\" :key=\"item._id\" class=\"list-item\">\r\n          <img :src=\"item.PRODUCT_PIC[0]\" :alt=\"item.PRODUCT_NAME\">\r\n          <div class=\"name\">{{item.PRODUCT_NAME}}</div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"nodata\" v-if=\"nodata\">\r\n      <i class=\"el-icon-box\"></i>\r\n      <div>该类没有商品</div>\r\n    </div>\r\n    <p v-if=\"noMore\">没有更多了</p>\r\n    </div>\r\n    \r\n    <navjump/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst navjump = ()=>import('../components/shouye/navjump.vue');\r\nconst {getProductType,getLazyProductList,getProductNum} = require('../api');\r\nconst {compareTime} = require(\"../utils\");\r\nexport default {\r\n  data(){\r\n    return{\r\n      pdTypeList:[],\r\n      typeloading:true,\r\n      loading:false,\r\n      nowTypeName:'数码',\r\n      nowType:\"digital\",\r\n      nowTypeList:[],\r\n      pagenum:1,\r\n      pdNum:999,\r\n      nodata:false\r\n    }\r\n  },\r\n  async created(){\r\n      let {data} = await getProductType();\r\n      this.pdTypeList = data;\r\n      this.typeloading=false;\r\n      let num = await getProductNum();\r\n      this.pdNum = num.data\r\n  },\r\n  computed: {\r\n      noMore () {\r\n        return this.nowTypeList.length >= this.pdNum\r\n      },\r\n      disabled () {\r\n        return this.loading || this.noMore\r\n      }\r\n  },\r\n  components:{\r\n    navjump\r\n  },\r\n  methods: {\r\n    load () {\r\n        this.loading = true\r\n        setTimeout(async () => {\r\n            let data = await getLazyProductList (15,this.pagenum,this.nowType);\r\n            this.nowTypeList = this.nowTypeList.concat(data);\r\n            this.pagenum+=1;\r\n            if(this.nowTypeList.length<=0||this.nowTypeList.filter(item =>{\r\n              return this.compareTime2(item.DEADLINE);\r\n            }).length<=0){\r\n               this.nodata=true\r\n            }else{\r\n              this.nodata=false\r\n            }\r\n            \r\n            this.loading = false;\r\n        }, 0.1)\r\n      },\r\n    navLick(item){\r\n       this.nowTypeList = [];\r\n       this.nodata = false;\r\n       this.nowTypeName = item.NAME;\r\n       this.nowType = item.TYPE;\r\n       this.pagenum = 1;\r\n       this.load();\r\n    },\r\n    compareTime2(val){\r\n        return compareTime(val);\r\n      },\r\n    godetail(val){\r\n        this.$router.push({path:'/productDetail',query:{id:val}})\r\n    }\r\n}\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box{\r\n  display: flex;\r\n  ul,li{\r\n    list-style: none;\r\n  }\r\n}\r\n.el-menu-item.is-active{\r\n  background-color: #fff !important;\r\n}\r\n.navMenu{\r\n  height: calc(100vh - 53px);\r\n  float: left;\r\n  width: 20vw;\r\n  &>ul{\r\n    height: 100%;\r\n  }\r\n  .el-menu-item{\r\n    padding: 0 !important;\r\n    text-align: center;\r\n  }\r\n}\r\n.productList{\r\n  flex: 1;\r\n   height: calc(100vh - 53px);\r\n  .list-item{\r\n    width: 32.8%;\r\n    float: left;\r\n    text-align: center;\r\n    img{\r\n     width: 70px;\r\n     height: 70px;\r\n    }\r\n    .name{\r\n      color: #333;\r\n      height: 35px;\r\n      margin-top: 2px;\r\n      -webkit-box-pack: start;\r\n      font-size: 12px;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n   &>ul{\r\n     display: flex;\r\n     flex-wrap: wrap;\r\n     min-height: 80px;\r\n   }\r\n   &>h3{\r\n     height: 50px;\r\n     line-height: 50px;\r\n    text-align: center;\r\n    font-weight: 530;\r\n   }\r\n}\r\n.nodata{\r\n  padding-top: 106px;\r\n  text-align: center;\r\n  color: #E8E8E8;\r\n  font-size: 14px;\r\n  i{\r\n    font-size: 64px;\r\n  }\r\n}\r\n</style> \r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./fenlei.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./fenlei.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fenlei.vue?vue&type=template&id=0730fb90&scoped=true&\"\nimport script from \"./fenlei.vue?vue&type=script&lang=js&\"\nexport * from \"./fenlei.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fenlei.vue?vue&type=style&index=0&id=0730fb90&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0730fb90\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}